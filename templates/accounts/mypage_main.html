{% extends "base2.html" %} {% block style %}
<style>
    #liked-posts-btn,
    #liked-posts-btn1,
    #liked-posts-btn3 {
        color: black;
        background-color: white;
        border: none;
    }
    #liked-posts-btn:hover,
    #liked-posts-btn1:hover,
    #liked-posts-btn3:hover {
        color: blue;
    }
    #liked-posts-btn:active,
    #liked-posts-btn1:active,
    #liked-posts-btn3:active {
        background-color: blue;
        color: white;
    }
    .active {
        background-color: blue;
        color: white;
    }
</style>
 {% endblock %} {% block content %}
<div class="hot_board_posts_all" style="background-color:#e6e7eb">
   <div class="back_page" style="background-color: white; width: 88%; height: 700px; margin: 0 auto; padding: 30px 40px 10px 40px; position: relative;">
      <div class="pro1" style="margin: 0; display: flex; flex-direction: row;">
         <div class="pro2" style="width: 220px; height: 320px; border: 1px solid gray; border-radius: 8px; display: flex; flex-direction: column; justify-content: center;">
            <div style="margin: 10px; text-align: center;">
               <div style=" margin-top: 20px;">
                  {% if user.profile.profile_image %}
                  <img src="{{ user.profile.profile_image.url }}" width="200">
                  <div style="margin: 5px 0 5px 0;">
                  <p style="font-weight: bold; display: inline; font-size: 20px;">
                     {{ user.username }}
                  </p>
                  <p style="display: inline;">
                     님
                  </p>
                  </div>
                  <button id="edit-profile-button" type="button" style="text-align: center;">프로필 수정</button>
                  <button id="default-image-button" type="button" style="display: none;">기본 이미지로 돌아가기</button>
                  <form id="profile-image-form" method="post" enctype="multipart/form-data" style="display: none;">
                {% csrf_token %}
                     <input type="file" class="form-control" name="profile_image" id="profile_image">
                     <button type="submit" name="mypage">프로필 업로드</button>
                  </form>
             {% else %}
                  <img src="/media/profile_pictures/basic_profile.png" width="200">

                  <p style="font-weight: bold; display: inline; font-size: 20px;">
                     {{ user.username }}
                  </p>
                  <p style="display: inline;">
                     님
                  </p>
                  <button id="edit-profile-button" type="button" style="text-align: center;">프로필 수정비</button>
                  <button id="default-image-button" type="button" style="display: none;">기본 이미지로 돌아가기</button>
                  <form id="profile-image-form" method="post" enctype="multipart/form-data">
                {% csrf_token %}
               <input type="file" class="form-control" name="profile_image" id="profile_image">
               <button type="submit" name="mypage">프로필 업로드</button>
            </form>
             {% endif %}
               </div>
               <div style="margin-top: 20px;">
               </div>
            </div>
         </div>
         <div class="like-post" style="flex: 1; margin: 30px 0 30px 100px;">
            <div style="border-bottom: 1px solid gray; margin-bottom: 30px;">
               <button id="liked-posts-btn1" style="margin: 10px; background-color: white; border: none; padding: 10px;">프로필</button>
               <button id="liked-posts-btn" style="margin: 10px; background-color: white; border: none; padding: 10px;">관심있는 게시물 보기</button>
            </div>
            <div class="like_page">
               <div id="liked-posts-container">
                   {% for board in liked_posts %}
                  <div class="row">
                     <div class="col-md-6">
                        <div class="card mb-4">
                           <div class="row no-gutters">
                              <div class="col-md-4">
                                  {% if board.image %} <img src="{{ board.image.url }}" class="card-img" alt="{{ board.title }}">
                                 {% else %} <img src="/static/images/no_image.png" class="card-img" alt="no image">
                                 {% endif %}
                              </div>
                              <div class="col-md-8">
                                 <div class="card-body">
                                    <h5 class="card-title">{{ board.title }}</h5>
                                    <p class="card-text">
                                       {{ board.writer }}
                                    </p>
                                    <p>
                                       카테고리: {{ board.category }}
                                    </p>
                                    <a href="/board/detail/{{ board.id }}/" class="btn btn-primary">자세히 보기</a>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                      {% if forloop.counter|divisibleby:2 and not forloop.last %}
                  </div>
                  <div class="row">
                      {% endif %} {% endfor %}
                  </div>
               </div>
            </div>
         </div>
         <script>
         document.getElementById('edit-profile-button').addEventListener('click', function () {
        document.getElementById('edit-profile-button').style.display = 'none';
        document.getElementById('default-image-button').style.display = 'block';
        document.getElementById('profile-image-form').style.display = 'block';
    });
    document.getElementById('default-image-button').addEventListener('click', function () {
        document.getElementById('edit-profile-button').style.display = 'block';
        document.getElementById('default-image-button').style.display = 'none';
        document.getElementById('profile-image-form').style.display = 'none';
        document.getElementById('profile_image').value = '';
        document.getElementsByTagName('img')[0].src = "/media/profile_pictures/basic_profile.png";
    });
    document.getElementById('profile_image').addEventListener('change', function () {
        if (this.value) {
            document.getElementById('edit-profile-button').innerText = '프로필 수정';
            document.getElementById('default-image-button').style.display = 'none';
        }
    });
    document.addEventListener('DOMContentLoaded', function() {
        var btn1 = document.getElementById('liked-posts-btn1');
        var btn2 = document.getElementById('liked-posts-btn');
        var container = document.getElementById('liked-posts-container');
        btn1.style.fontWeight = 'bold';
        btn1.style.color = 'blue';
        btn2.style.fontWeight = '';
        btn2.style.color = '';
        container.style.display = 'none';
        btn1.addEventListener('click', function() {
            btn1.style.fontWeight = 'bold';
            btn1.style.color = 'blue';
            btn2.style.fontWeight = '';
            btn2.style.color = '';
            container.style.display = 'none';
        });
        btn2.addEventListener('click', function() {
            btn2.style.fontWeight = 'bold';
            btn2.style.color = 'blue';
            btn1.style.fontWeight = '';
            btn1.style.color = '';
            container.style.display = 'block';
        });
    });
         </script>
      </div>
   </div>
</div>
</div>
</div>
</div>
</tbody>
</table>
</div>
</div>
{% endblock %}